(this.webpackJsonpsales=this.webpackJsonpsales||[]).push([[0],{246:function(e,t,n){},249:function(e,t,n){},402:function(e,t,n){"use strict";n.r(t);var a,c,s,i,r=n(0),o=n.n(r),l=n(41),d=n.n(l),u=(n(246),n(247),n(56)),b=n(9),j=n(30),p=n.n(j),h=(n(249),n(109)),f=n(110),x=n(233),O=f.a.div(a||(a=Object(h.a)(["\n  min-height: 750px;\n  min-width: 750px;\n"]))),m=f.a.div(c||(c=Object(h.a)(["\n  display: flex;\n  flex-direction: column;\n  /* justify-content: center; */\n  align-items: center;\n  place-content: center;\n\n  width: 100%;\n  \n  margin: 50px auto 0;\n\n  button {\n    margin-bottom:8px;\n  }\n"]))),g=f.a.div(s||(s=Object(h.a)(["\n  display: flex;\n  flex-direction: row;\n\n  width: 100%;\n\n  white-space: nowrap;\n\n  label {\n    font-size:18px;\n    margin-bottom: 8px;\n  }\n\n  input {\n    margin-bottom: 8px;\n  }\n\n"]))),v=f.a.div(i||(i=Object(h.a)(["\n  margin-bottom: 32px;\n  position: relative;\n  align-self: center;\n\n  img {\n    width: 186px;\n    height: 186px;\n    border-radius: 50%;\n  }\n\n  label {\n    position: absolute;\n    width: 48px;\n    height: 48px;\n    background: #8884d8;\n    border-radius: 50%;\n    right: 0;\n    bottom: 0;\n    border: 0;\n    transition:background-color 0.2s; \n\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    \n    cursor: pointer;\n\n    input {\n      display:  none;\n    }\n\n    svg {\n      width: 20px;\n      height: 20px;\n      color: #312e38;\n    }\n\n    &:hover {\n      background: ","\n    }\n  }\n"])),Object(x.a)(.2,"#8884d8")),y=n(417),k=n(418),w=n(108),_=n(419),C=n(407),F=n(408),P=n(412),S=n(135),D=n(136),K=n(113),N=n(227),q=n(413),L=n(236),A=n(231),E=n(414),I=n(232),z=n(416),B=n(213),H=n.n(B).a.create({baseURL:"http://localhost:5000/",headers:{"Content-type":"application/json"}}),J=n(16),T=function(){var e=Object(r.useState)([]),t=Object(b.a)(e,2),n=t[0],a=t[1],c=Object(r.useState)([]),s=Object(b.a)(c,2),i=s[0],o=s[1],l=Object(r.useState)(!1),d=Object(b.a)(l,2),j=d[0],h=d[1],f=Object(r.useState)(0),x=Object(b.a)(f,2),B=x[0],T=x[1],W=Object(r.useState)(20),M=Object(b.a)(W,2),R=M[0],U=M[1],G=Object(r.useCallback)((function(){var e={start_date:"2018-01-01",end_date:"2018-12-31",entries_per_page:R};H.get("api/v1/sales/best-selling-products",{params:e}).then((function(e){var t=e.data.products.map((function(e){var t=e.product_code,n=e.product_description,a=e.quantity;return{_id:"".concat(t," - ").concat(n),quantity:a}}));o(t)}))}),[o,R]),Q=Object(r.useCallback)((function(){H.get("api/v1/sales/by-month",{params:{start_date:"2018-01-01",end_date:"2018-12-31"}}).then((function(e){a(e.data.sales)}))}),[a]),V=Object(r.useCallback)(function(){var e=Object(u.a)(p.a.mark((function e(t){var n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.target.files&&(h(!0),(n=new FormData).append("file",t.target.files[0]),H.post("api/v1/sales/upload",n).then((function(e){T(e.data.inserted),h(!1),t.target.files=null,A.b.success(e.data.message)})).catch((function(e){h(!1),t.target.files=null})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[h]),X=Object(r.useCallback)((function(){G(),Q()}),[G,Q]),Y=Object(r.useCallback)((function(){H.delete("api/v1/sales/all").then((function(e){o([]),a([]),T(0)})).catch((function(e){A.b.error(e)}))}),[o,a,T]),Z=Object(r.useCallback)(function(){var e=Object(u.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:U(parseInt(t.target.value));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[U]);return Object(r.useEffect)((function(){var e=function(){var e=Object(u.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,H.get("api/v1/sales/number-of-sales");case 3:t=e.sent,T(t.data.number_of_sales),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),T(0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();e()}),[T]),Object(r.useEffect)((function(){B&&X()}),[B,X]),Object(J.jsx)("header",{className:"App-header",children:Object(J.jsxs)("div",{className:"App",children:[Object(J.jsx)(O,{style:{display:0===B?"none":"flex"},children:Object(J.jsxs)(m,{children:[Object(J.jsx)(C.a,{minWidth:600,minHeight:300,children:Object(J.jsxs)(F.a,{data:n,children:[Object(J.jsx)(P.a,{strokeDasharray:"3 3"}),Object(J.jsx)(S.a,{dataKey:"month"}),Object(J.jsx)(D.a,{}),Object(J.jsx)(K.a,{}),Object(J.jsx)(N.a,{type:"monotone",dataKey:"quantity",stroke:"#8884d8",activeDot:{r:8}}),Object(J.jsx)(N.a,{type:"monotone",dataKey:"amount",stroke:"#82ca9d"})]})}),Object(J.jsx)(C.a,{minWidth:600,minHeight:300,children:Object(J.jsxs)(q.a,{data:i,children:[Object(J.jsx)(P.a,{strokeDasharray:"3 3"}),Object(J.jsx)(S.a,{dataKey:"_id"}),Object(J.jsx)(D.a,{}),Object(J.jsx)(K.a,{content:function(e){return function(e){var t=e.active,n=e.payload,a=e.label;return t&&n&&n.length?Object(J.jsx)("div",{className:"custom-tooltip",children:Object(J.jsx)("p",{className:"label",children:"".concat(a," : ").concat(n[0].value)})}):null}({active:e.active,payload:e.payload,label:e.label})}}),Object(J.jsx)(L.a,{name:"Produtos mais vendidos",dataKey:"quantity",fill:"#8884d8"})]})}),Object(J.jsxs)(g,{children:[Object(J.jsx)("label",{htmlFor:"entriesPerPage",children:" N\xfamero de registros: "}),Object(J.jsx)(E.a,{id:"entriesPerPage",value:R,type:"number",onChange:Z})]}),Object(J.jsx)(I.a,{icon:Object(J.jsx)(y.a,{}),onClick:Y,block:!0,ghost:!0,children:"Limpar banco de dados"}),Object(J.jsx)(I.a,{icon:Object(J.jsx)(k.a,{}),onClick:X,block:!0,ghost:!0,children:"Atualizar dados"})]})}),Object(J.jsx)(z.a,{style:{display:0!==B?"none":"flex"},children:Object(J.jsx)(v,{children:Object(J.jsxs)("label",{htmlFor:"sales_file",children:[j?Object(J.jsx)(w.a,{}):Object(J.jsx)(_.a,{}),Object(J.jsx)("input",{type:"file",name:"sales_file",id:"sales_file",onChange:V})]})})})]})})},W=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,420)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,s=t.getLCP,i=t.getTTFB;n(e),a(e),c(e),s(e),i(e)}))};d.a.render(Object(J.jsx)(o.a.StrictMode,{children:Object(J.jsx)(T,{})}),document.getElementById("root")),W()}},[[402,1,2]]]);
//# sourceMappingURL=main.f4502615.chunk.js.map